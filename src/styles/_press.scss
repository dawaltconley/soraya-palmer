@layer components {
  .press-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-auto-rows: minmax(theme('spacing.48'), auto);
    grid-auto-flow: row dense;
    gap: theme('spacing.4');
  }

  .reference {
    $block: &;
    @apply relative h-full font-serif text-base;
    display: flex;
    flex-direction: column;

    &--vignette::after {
      --shadow-color: theme('colors.gray.950 / 20%');
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: 0 0 4rem 0 var(--shadow-color) inset;
      pointer-events: none;
    }

    &--background {
      @apply text-shadow text-white min-aspect-video;
      display: block;
    }

    &__image-container {
      &--background {
        @apply overlay-after absolute inset-0 z-0 after:bg-gray-950/80;
      }
    }

    &__image {
      @apply h-full w-full object-cover;
    }

    &__content {
      @apply flex flex-col justify-center py-4;

      &--overlay {
        @apply relative z-10 flex h-full flex-col justify-center px-8 py-6;
      }

      &--background {
        padding: theme('spacing.4');
        color: theme('colors.white');
        background-color: theme('colors.orange.800');
      }
    }

    &__title {
      @apply font-serif text-2xl font-bold leading-tight;

      &--center {
        margin: auto;
      }
    }

    &__meta {
      @apply mt-4 flex leading-tight;

      &--justified {
        gap: theme('spacing.2');
        justify-content: space-between;
      }

      &--first {
        order: -1;
        margin: 0;
      }

      &--light {
        color: theme('colors.gray.500');
      }
    }

    &__date {
      // &::after {
      //   content: ' — ';
      //   margin-right: theme('spacing.1');
      // }
    }

    &__source {
      // @apply ml-auto text-right italic;
      @apply text-right italic;

      &::before {
        content: ' — ';
        margin-left: theme('spacing.1');
      }

      &--right {
        @apply ml-auto;

        &::before {
          display: none;
        }
      }
    }

    &__description {
      margin-top: theme('spacing.2');
    }
  }
}

@layer utilities {
  .text-shadow {
    text-shadow: 1px 1px 4px theme('colors.gray.950');
  }
}
